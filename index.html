<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Music Sketchpad</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2ecc71;
            --dark: #34495e;
            --light: #ecf0f1;
            --danger: #e74c3c;
            --warning: #f39c12;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
            color: white;
        }
        
        .app-description {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        
        .toolbar {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            justify-content: center;
        }
        
        .btn {
            padding: 12px 15px;
            border: none;
            border-radius: 50px;
            background: var(--primary);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        .btn-record {
            background: var(--danger);
        }
        
        .btn-play {
            background: var(--secondary);
        }
        
        .btn-export {
            background: var(--warning);
        }
        
        .workspace {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        @media (min-width: 768px) {
            .workspace {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .card-title {
            font-size: 1.2rem;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .piano-roll {
            display: flex;
            height: 120px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        
        .key {
            min-width: 40px;
            height: 100%;
            background: white;
            border-radius: 0 0 5px 5px;
            margin-right: 2px;
            cursor: pointer;
            position: relative;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .key.black {
            background: black;
            height: 65%;
            width: 28px;
            min-width: 28px;
            margin-left: -14px;
            margin-right: -14px;
            z-index: 2;
        }
        
        .key.active {
            background: var(--secondary);
        }
        
        .key.black.active {
            background: var(--primary);
        }
        
        .track {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 8px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        
        .track-name {
            width: 80px;
            font-size: 0.9rem;
        }
        
        .track-controls {
            display: flex;
            gap: 5px;
            margin-left: auto;
        }
        
        .visualizer {
            height: 80px;
            width: 100%;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            margin: 15px 0;
            overflow: hidden;
        }
        
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .control {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }
        
        .control label {
            font-size: 0.8rem;
        }
        
        input[type="range"] {
            width: 100%;
        }
        
        .export-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .export-btn {
            padding: 10px;
            border-radius: 8px;
            border: none;
            background: var(--primary);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .export-btn:hover {
            background: var(--secondary);
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            font-size: 0.8rem;
            opacity: 0.7;
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            padding: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            margin-top: 20px;
            font-size: 0.8rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Mobile Music Sketchpad</h1>
            <p class="app-description">Capture your musical ideas anywhere - no studio required</p>
        </header>
        
        <div class="toolbar">
            <button class="btn btn-record" id="recordBtn">
                <span>●</span> Record
            </button>
            <button class="btn btn-play" id="playBtn">
                <span>▶</span> Play
            </button>
            <button class="btn" id="metronomeBtn">
                <span>♫</span> Metronome
            </button>
            <button class="btn btn-export" id="exportBtn">
                <span>⭳</span> Export
            </button>
        </div>
        
        <div class="workspace">
            <div class="card">
                <h3 class="card-title">Input</h3>
                <div class="piano-roll" id="pianoRoll">
                    <!-- Piano keys will be generated here -->
                </div>
                
                <div class="visualizer" id="visualizer">
                    <!-- Audio visualization will appear here -->
                </div>
                
                <div class="controls">
                    <div class="control">
                        <label for="reverb">Reverb</label>
                        <input type="range" id="reverb" min="0" max="1" step="0.1" value="0.2">
                    </div>
                    <div class="control">
                        <label for="delay">Delay</label>
                        <input type="range" id="delay" min="0" max="1" step="0.1" value="0.1">
                    </div>
                    <div class="control">
                        <label for="filter">Filter</label>
                        <input type="range" id="filter" min="0" max="1" step="0.1" value="0.5">
                    </div>
                    <div class="control">
                        <label for="drive">Drive</label>
                        <input type="range" id="drive" min="0" max="1" step="0.1" value="0">
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3 class="card-title">Tracks</h3>
                
                <div class="track">
                    <div class="track-name">Vocals</div>
                    <div class="track-controls">
                        <button class="btn" style="padding: 5px 10px;">Mute</button>
                        <button class="btn" style="padding: 5px 10px;">Solo</button>
                    </div>
                </div>
                
                <div class="track">
                    <div class="track-name">Drums</div>
                    <div class="track-controls">
                        <button class="btn" style="padding: 5px 10px;">Mute</button>
                        <button class="btn" style="padding: 5px 10px;">Solo</button>
                    </div>
                </div>
                
                <div class="track">
                    <div class="track-name">Bass</div>
                    <div class="track-controls">
                        <button class="btn" style="padding: 5px 10px;">Mute</button>
                        <button class="btn" style="padding: 5px 10px;">Solo</button>
                    </div>
                </div>
                
                <div class="track">
                    <div class="track-name">Melody</div>
                    <div class="track-controls">
                        <button class="btn" style="padding: 5px 10px;">Mute</button>
                        <button class="btn" style="padding: 5px 10px;">Solo</button>
                    </div>
                </div>
                
                <h3 class="card-title" style="margin-top: 20px;">Export Options</h3>
                <div class="export-options">
                    <button class="export-btn">Export as WAV</button>
                    <button class="export-btn">Export as MP3</button>
                    <button class="export-btn">Save Project</button>
                    <button class="export-btn">Export All Tracks</button>
                </div>
            </div>
        </div>
        
        <div class="status-bar">
            <div id="memoryStatus">Memory: 42MB / 150MB</div>
            <div id="audioStatus">Audio: Active</div>
            <div id="storageStatus">Storage: 5.2MB Used</div>
        </div>
        
        <footer>
            <p>Mobile Music Sketchpad - Designed for inspiration anywhere</p>
            <p>Uses Tone.js, Soundfont-Player, Recorder.js & other lightweight libraries</p>
        </footer>
    </div>

    <script>
        // Piano generation
        const pianoRoll = document.getElementById('pianoRoll');
        const notes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];
        const octave = 4;
        
        notes.forEach((note, index) => {
            const key = document.createElement('div');
            key.className = 'key' + (note.includes('#') ? ' black' : '');
            key.dataset.note = note + octave;
            
            key.addEventListener('mousedown', () => {
                key.classList.add('active');
                // In a real app, this would play a note
                setTimeout(() => {
                    key.classList.remove('active');
                }, 300);
            });
            
            key.addEventListener('touchstart', (e) => {
                e.preventDefault();
                key.classList.add('active');
                // In a real app, this would play a note
                setTimeout(() => {
                    key.classList.remove('active');
                }, 300);
            });
            
            pianoRoll.appendChild(key);
        });
        
        // Simulated audio visualization
        const visualizer = document.getElementById('visualizer');
        for (let i = 0; i < 32; i++) {
            const bar = document.createElement('div');
            bar.style.display = 'inline-block';
            bar.style.width = '3%';
            bar.style.height = '100%';
            bar.style.margin = '0 1%';
            bar.style.backgroundColor = '#3498db';
            bar.style.borderRadius = '2px';
            bar.style.transform = `scaleY(${Math.random() * 0.8 + 0.2})`;
            visualizer.appendChild(bar);
        }
        
        // Update visualization periodically
        setInterval(() => {
            const bars = visualizer.querySelectorAll('div');
            bars.forEach(bar => {
                bar.style.transform = `scaleY(${Math.random() * 0.8 + 0.2})`;
                bar.style.backgroundColor = `hsl(${Math.random() * 60 + 180}, 70%, 60%)`;
            });
        }, 120);
        
        // Button functionality
        document.getElementById('recordBtn').addEventListener('click', function() {
            this.classList.toggle('recording');
            if (this.classList.contains('recording')) {
                this.innerHTML = '<span>■</span> Stop';
            } else {
                this.innerHTML = '<span>●</span> Record';
            }
        });
        
        document.getElementById('playBtn').addEventListener('click', function() {
            this.classList.toggle('playing');
            if (this.classList.contains('playing')) {
                this.innerHTML = '<span>⏸</span> Pause';
            } else {
                this.innerHTML = '<span>▶</span> Play';
            }
        });
        
        // Simulate memory usage changes
        setInterval(() => {
            const memory = Math.floor(Math.random() * 20) + 40;
            document.getElementById('memoryStatus').textContent = `Memory: ${memory}MB / 150MB`;
        }, 3000);
    </script>
</body>
</html>
